{% load i18n admin_static %}<!DOCTYPE html>

{% get_current_language as LANGUAGE_CODE %}{% get_current_language_bidi as LANGUAGE_BIDI %}
<html lang="{{ LANGUAGE_CODE|default:"en-us" }}" {% if LANGUAGE_BIDI %}dir="rtl"{% endif %}>

<head>
    <title>{% block title %}{% endblock %}</title>

    <!-- Webcomponents Polyfills -->
    <script src="{% static "ostinato/admin/bower_components/webcomponentsjs/webcomponents-lite.min.js" %}"></script>

    <!-- Import our base -->
    <link rel="import" href="{% static "ostinato/admin/ost-elements/ost-base.html" %}">

    {% comment %}
    <link rel="stylesheet" type="text/css" href="{% block stylesheet %}{% static "admin/css/base.css" %}{% endblock %}" />
    {% block extrastyle %}{% endblock %}
    {% if LANGUAGE_BIDI %}<link rel="stylesheet" type="text/css" href="{% block stylesheet_rtl %}{% static "admin/css/rtl.css" %}{% endblock %}" />{% endif %}
    {% block extrahead %}{% endblock %}
    {% endcomment %}
    {% block blockbots %}<meta name="robots" content="NONE,NOARCHIVE" />{% endblock %}
</head>
{% load i18n %}

<body class="{% if is_popup %}popup {% endif %}{% block bodyclass %}{% endblock %}"
  data-admin-utc-offset="{% now "Z" %}">

    {% comment %}

        TODO: use paper-toast or some other notification method? We could create
        our own custom method.

        {% block messages %}
            {% if messages %}
            <ul class="messagelist">{% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message|capfirst }}</li>
            {% endfor %}</ul>
            {% endif %}
        {% endblock messages %}
    {% endcomment %}

    <paper-drawer-panel>
        <paper-header-panel drawer>
            <!-- Drawer Header -->
            <div class="paper-header">
                {% block branding %}{% endblock %}
            </div>

            <!-- Drawer Content -->
            <div main>
                {% block usertools %}
                {% if has_permission %}
                <div id="user-tools">
                    {% block welcome-msg %}
                        {% trans 'Welcome,' %}
                        <strong>{% firstof user.get_short_name user.get_username %}</strong>.
                    {% endblock %}
                    {% block userlinks %}
                        {% if site_url %}
                            <a href="{{ site_url }}">{% trans 'View site' %}</a> /
                        {% endif %}
                        {% if user.is_active and user.is_staff %}
                            {% url 'django-admindocs-docroot' as docsroot %}
                            {% if docsroot %}
                                <a href="{{ docsroot }}">{% trans 'Documentation' %}</a> /
                            {% endif %}
                        {% endif %}
                        {% if user.has_usable_password %}
                        <a href="{% url 'admin:password_change' %}">{% trans 'Change password' %}</a> /
                        {% endif %}
                        <a href="{% url 'admin:logout' %}">{% trans 'Log out' %}</a>
                    {% endblock %}
                </div>
                {% endif %}
                {% endblock %}
                {% block nav-global %}{% endblock %}
            </div>
        </paper-header-panel>

        <paper-header-panel main>
            <!-- Main Content Header -->
            <div class="paper-header">
                {% block breadcrumbs %}
                <div class="breadcrumbs">
                <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
                {% if title %} &rsaquo; {{ title }}{% endif %}
                </div>
                {% endblock %}
            </div>

            <!-- Main Content -->
            <div id="content" class="{% block coltype %}colM{% endblock %}">
                {% block pretitle %}{% endblock %}
                {% block content_title %}{% if title %}<h1>{{ title }}</h1>{% endif %}{% endblock %}
                {% block content %}
                {% block object-tools %}{% endblock %}
                {{ content }}
                {% endblock %}
                {% block sidebar %}{% endblock %}
                <br class="clear" />

                {% block footer %}<div id="footer"></div>{% endblock %}
            </div>
        </paper-header-panel>

    </paper-drawer-panel>
</body>
</html>

